(this.webpackJsonpproject_frontend=this.webpackJsonpproject_frontend||[]).push([[0],{13:function(e,t){t.SERVER_URL=""},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),c=a(31),s=a.n(c),o=a(7),l=a.n(o),i=a(12),j=a(2),u=a(6),b=a(3),d=Object(n.createContext)(null);function h(){var e=Object(n.useContext)(d);e.userData,e.setUserData,Object(b.f)();return Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"personalbudgetnav",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(u.b,{to:"/",children:"HomePage"})}),Object(r.jsx)("li",{children:Object(r.jsx)(u.b,{to:"/user_dashboard",children:"Dashboard"})}),Object(r.jsx)("li",{children:Object(r.jsx)(u.b,{to:"/user_budget",children:"Add Budget"})}),Object(r.jsx)("li",{children:Object(r.jsx)(u.b,{to:"/user_expense",children:"Add Expense"})})]})})})}function O(){var e=Object(n.useContext)(d).userData,t=Object(b.f)();return Object(n.useEffect)((function(){e.user||t.push("/login")})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{}),Object(r.jsx)("div",{className:"page",children:e.user?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("h1",{children:[e.user.displayName,": Welcome to Personal Budget"]})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"User not logged in"}),Object(r.jsx)(u.b,{to:"/login",children:"Login"})]})})]})}var p=a(4),x=a.n(p);function g(e){return Object(r.jsxs)("div",{className:"error-notice",children:[Object(r.jsx)("span",{children:e.message}),Object(r.jsx)("button",{onClick:e.clearError,children:"X"})]})}var m=a(13).SERVER_URL;function v(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),o=Object(j.a)(s,2),u=o[0],h=o[1],O=Object(n.useContext)(d).setUserData,p=Object(b.f)(),v=Object(n.useState)(),f=Object(j.a)(v,2),y=f[0],C=f[1],k=function(){var e=Object(i.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.a.post(m+"/users/login",{email:a,password:u});case 4:r=e.sent,O({token:r.data.token,user:r.data.user}),localStorage.setItem("auth-token",r.data.token),p.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data.msg&&C(e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"page",children:[Object(r.jsx)("h2",{children:"Login"}),y&&Object(r.jsx)(g,{message:y,clearError:function(){return C(void 0)}}),Object(r.jsxs)("form",{className:"form",onSubmit:k,children:[Object(r.jsx)("label",{htmlFor:"login-email",children:"Email"}),Object(r.jsx)("input",{id:"login-email",type:"email",onChange:function(e){return c(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"login-password",children:"Password"}),Object(r.jsx)("input",{id:"login-password",type:"password",autoComplete:"on",onChange:function(e){return h(e.target.value)}}),Object(r.jsx)("input",{type:"submit",value:"Login"})]})]})}var f=a(13).SERVER_URL;function y(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),o=Object(j.a)(s,2),u=o[0],h=o[1],O=Object(n.useState)(),p=Object(j.a)(O,2),m=p[0],v=p[1],y=Object(n.useState)(),C=Object(j.a)(y,2),k=C[0],S=C[1],E=Object(n.useState)(),F=Object(j.a)(E,2),w=F[0],B=F[1],R=Object(n.useContext)(d).setUserData,D=Object(b.f)(),N=function(){var e=Object(i.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r={email:a,password:u,passwordCheck:m,displayName:k},e.next=5,x.a.post(f+"/users/register",r);case 5:return e.next=7,x.a.post(f+"/users/login",{email:a,password:u});case 7:n=e.sent,R({token:n.data.token,user:n.data.user}),localStorage.setItem("auth-token",n.data.token),D.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0.response.data.msg&&B(e.t0.response.data.msg);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"page",children:[Object(r.jsx)("h2",{children:"Register"}),w&&Object(r.jsx)(g,{message:w,clearError:function(){return B(void 0)}}),Object(r.jsxs)("form",{className:"form",onSubmit:N,children:[Object(r.jsx)("label",{htmlFor:"register-email",children:"Email"}),Object(r.jsx)("input",{id:"register-email",type:"email",onChange:function(e){return c(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"register-password",children:"Password"}),Object(r.jsx)("input",{id:"register-password",type:"password",onChange:function(e){return h(e.target.value)}}),Object(r.jsx)("input",{type:"password",placeholder:"Verify password",onChange:function(e){return v(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"register-display-name",children:"Display name"}),Object(r.jsx)("input",{id:"register-display-name",type:"text",onChange:function(e){return S(e.target.value)}}),Object(r.jsx)("input",{type:"submit",value:"Register"})]})]})}var C,k=a(15),S=a(16),E=a.n(S),F=a(13).SERVER_URL,w={labels:[],datasets:[{data:[],label:"Budget",fill:!0,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgb(255, 99, 132)",pointBackgroundColor:"rgb(255, 99, 132)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(255, 99, 132)"},(C={label:"Expense",backgroundColor:"",data:[],fill:!0},Object(k.a)(C,"backgroundColor","rgba(54, 162, 235, 0.2)"),Object(k.a)(C,"borderColor","rgb(54, 162, 235)"),Object(k.a)(C,"pointBackgroundColor","rgb(54, 162, 235)"),Object(k.a)(C,"pointBorderColor","#fff"),Object(k.a)(C,"pointHoverBackgroundColor","#fff"),Object(k.a)(C,"pointHoverBorderColor","rgb(54, 162, 235)"),C)]};function B(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),o=Object(j.a)(s,2),l=o[0],i=o[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("auth-token");x.a.get(F+"/budget/get",{headers:{"x-auth-token":"".concat(e)}}).then((function(t){for(var a=0;a<t.data.length;a++)w.labels[a]=t.data[a].category,w.datasets[0].data[a]=t.data[a].budget;x.a.get(F+"/expense/get",{params:{month:l},headers:{"x-auth-token":"".concat(e)}}).then((function(e){for(var a=new Map,r=0;r<e.data.length;r++)a.set(e.data[r].category,e.data[r].expense);for(r=0;r<t.data.length;r++)a.get(w.labels[r])?w.datasets[1].data[r]=a.get(w.labels[r]):w.datasets[1].data[r]=0})),t&&(c(!0),function(){var e=document.getElementById("myRadarChart").getContext("2d"),t={elements:{line:{tension:0,borderWidth:3}},title:{display:!0,text:"Radar Chart"}};new E.a(e,{type:"radar",data:w,options:t})}())}))}),[l]),Object(r.jsxs)("div",{className:"radar",children:[Object(r.jsxs)("form",{className:"form",children:[Object(r.jsx)("label",{htmlFor:"Month",children:"Month"}),Object(r.jsxs)("select",{id:"month",onChange:function(e){return i(e.target.value)},children:[Object(r.jsx)("option",{value:"January",children:"January"}),Object(r.jsx)("option",{value:"February",children:"February"}),Object(r.jsx)("option",{value:"March",children:"March"}),Object(r.jsx)("option",{value:"April",children:"April"}),Object(r.jsx)("option",{value:"May",children:"May"}),Object(r.jsx)("option",{value:"June",children:"June"}),Object(r.jsx)("option",{value:"July",children:"July"}),Object(r.jsx)("option",{value:"August",children:"August"}),Object(r.jsx)("option",{value:"September",children:"September"}),Object(r.jsx)("option",{value:"October",children:"October"}),Object(r.jsx)("option",{value:"November",children:"November"}),Object(r.jsx)("option",{value:"December",children:"December"})]})]}),a?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("canvas",{id:"myRadarChart"})}):Object(r.jsx)(r.Fragment,{children:"Data Not available for Radar Chart"})]})}var R=a(13).SERVER_URL,D={labels:[],datasets:[{data:[],backgroundColor:"",label:"Budget",borderWidth:1},{label:"Expense",backgroundColor:"",data:[],borderWidth:1}]};function N(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),o=Object(j.a)(s,2),l=o[0],i=o[1];function u(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}return Object(n.useEffect)((function(){var e=localStorage.getItem("auth-token");x.a.get(R+"/budget/get",{headers:{"x-auth-token":"".concat(e)}}).then((function(t){for(var a=0;a<t.data.length;a++)D.labels[a]=t.data[a].category,D.datasets[0].data[a]=t.data[a].budget;D.datasets[0].backgroundColor=u(),x.a.get(R+"/expense/get",{params:{month:l},headers:{"x-auth-token":"".concat(e)}}).then((function(e){for(var a=new Map,r=0;r<e.data.length;r++)a.set(e.data[r].category,e.data[r].expense);for(r=0;r<t.data.length;r++)a.get(D.labels[r])?D.datasets[1].data[r]=a.get(D.labels[r]):D.datasets[1].data[r]=0;D.datasets[1].backgroundColor=u()})),t&&(c(!0),function(){var e=document.getElementById("myBarChart").getContext("2d"),t={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{position:"top"},title:{display:!0,text:"Bar Chart"}};new E.a(e,{type:"bar",data:D,options:t})}())}))}),[l]),Object(r.jsxs)("div",{className:"bar",children:[Object(r.jsxs)("form",{className:"form",children:[Object(r.jsx)("label",{htmlFor:"Month",children:"Month"}),Object(r.jsxs)("select",{id:"month",onChange:function(e){return i(e.target.value)},children:[Object(r.jsx)("option",{value:"January",children:"January"}),Object(r.jsx)("option",{value:"February",children:"February"}),Object(r.jsx)("option",{value:"March",children:"March"}),Object(r.jsx)("option",{value:"April",children:"April"}),Object(r.jsx)("option",{value:"May",children:"May"}),Object(r.jsx)("option",{value:"June",children:"June"}),Object(r.jsx)("option",{value:"July",children:"July"}),Object(r.jsx)("option",{value:"August",children:"August"}),Object(r.jsx)("option",{value:"September",children:"September"}),Object(r.jsx)("option",{value:"October",children:"October"}),Object(r.jsx)("option",{value:"November",children:"November"}),Object(r.jsx)("option",{value:"December",children:"December"})]})]}),a?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("canvas",{id:"myBarChart"})}):Object(r.jsx)(r.Fragment,{children:"Data Not available for Bar Chart"})]})}var M=a(13).SERVER_URL,A={datasets:[{data:[],backgroundColor:[]}],labels:[]};function U(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),o=Object(j.a)(s,2),l=o[0],i=o[1];function u(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}return Object(n.useEffect)((function(){var e=localStorage.getItem("auth-token");function t(e,t){return 100*e/t}x.a.get(M+"/budget/get",{params:{month:l},headers:{"x-auth-token":"".concat(e)}}).then((function(a){for(var r=0;r<a.data.length;r++)A.labels[r]=a.data[r].category,A.datasets[0].data[r]=a.data[r].budget,A.datasets[0].backgroundColor[r]=u();x.a.get(M+"/expense/get",{params:{month:l},headers:{"x-auth-token":"".concat(e)}}).then((function(e){for(var r=new Map,n=0;n<e.data.length;n++)r.set(e.data[n].category,e.data[n].expense);for(n=0;n<a.data.length;n++)if(r.get(A.labels[n])){var c=t(r.get(A.labels[n]),A.datasets[0].data[n]);A.labels[n]=A.labels[n]+", Expense Usage:"+c+"%"}else A.labels[n]=A.labels[n]+", Expense Usage: 0% "})),a&&(c(!0),function(){var e=document.getElementById("myPieChart").getContext("2d"),t={title:{display:!0,text:"Donut Chart"}};new E.a(e,{type:"doughnut",data:A,options:t})}())}))}),[l]),Object(r.jsxs)("div",{className:"donut",children:[Object(r.jsxs)("form",{className:"form",children:[Object(r.jsx)("label",{htmlFor:"Month",children:"Month"}),Object(r.jsxs)("select",{id:"month",onChange:function(e){return i(e.target.value)},children:[Object(r.jsx)("option",{value:"January",children:"January"}),Object(r.jsx)("option",{value:"February",children:"February"}),Object(r.jsx)("option",{value:"March",children:"March"}),Object(r.jsx)("option",{value:"April",children:"April"}),Object(r.jsx)("option",{value:"May",children:"May"}),Object(r.jsx)("option",{value:"June",children:"June"}),Object(r.jsx)("option",{value:"July",children:"July"}),Object(r.jsx)("option",{value:"August",children:"August"}),Object(r.jsx)("option",{value:"September",children:"September"}),Object(r.jsx)("option",{value:"October",children:"October"}),Object(r.jsx)("option",{value:"November",children:"November"}),Object(r.jsx)("option",{value:"December",children:"December"})]})]}),a?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("canvas",{id:"myPieChart"})}):Object(r.jsx)(r.Fragment,{children:"Data Not available for Donut Chart"})]})}function J(){return Object(r.jsxs)("div",{className:"dashboardCharts",children:[Object(r.jsx)(h,{}),Object(r.jsx)(B,{}),Object(r.jsx)(N,{}),Object(r.jsx)(U,{})]})}var _=a(13).SERVER_URL;function L(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),o=Object(j.a)(s,2),O=o[0],p=o[1],m=Object(n.useState)(),v=Object(j.a)(m,2),f=v[0],y=v[1],C=Object(n.useContext)(d),k=C.userData,S=(C.setUserData,Object(b.f)());Object(n.useEffect)((function(){k.user||S.push("/login")}));var E=function(){var e=Object(i.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=localStorage.getItem("auth-token"),n={category:a,budget:O},console.log("bharadwaj"),console.log(n),e.next=8,x.a.post(_+"/budget/add",n,{headers:{"x-auth-token":"".concat(r)}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data.msg&&y(e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{}),Object(r.jsx)("div",{className:"page",children:k.user?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Add Budget Per Month"}),f&&Object(r.jsx)(g,{message:f,clearError:function(){return y(void 0)}}),Object(r.jsxs)("form",{className:"form",onSubmit:E,children:[Object(r.jsx)("label",{htmlFor:"category",children:"Category"}),Object(r.jsxs)("select",{id:"category",onChange:function(e){return c(e.target.value)},children:[Object(r.jsx)("option",{value:"Broadband",children:"Broadband"}),Object(r.jsx)("option",{value:"Shopping",children:"Shopping"}),Object(r.jsx)("option",{value:"Groceries",children:"Groceries"}),Object(r.jsx)("option",{value:"Gas Bill",children:"Gas Bill"}),Object(r.jsx)("option",{value:"Electricity Bill",children:"Electricity"})]}),Object(r.jsx)("label",{htmlFor:"budget",children:"Budget"}),Object(r.jsx)("input",{id:"budget",type:"text",onChange:function(e){return p(e.target.value)}}),Object(r.jsx)("input",{type:"submit",value:"Add"})]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"User not logged in"}),Object(r.jsx)(u.b,{to:"/login",children:"Login"})]})})]})}var I=a(13).SERVER_URL;function V(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),o=Object(j.a)(s,2),O=o[0],p=o[1],m=Object(n.useState)(),v=Object(j.a)(m,2),f=v[0],y=v[1],C=Object(n.useContext)(d),k=C.userData,S=(C.setUserData,Object(n.useState)()),E=Object(j.a)(S,2),F=E[0],w=E[1],B=Object(b.f)();Object(n.useEffect)((function(){k.user||B.push("/login")}));var R=function(){var e=Object(i.a)(l.a.mark((function e(t){var r,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=localStorage.getItem("auth-token"),n=new Date,c={category:a,expense:O,month:f,date:n},console.log(c),e.next=8,x.a.post(I+"/expense/add",c,{headers:{"x-auth-token":"".concat(r)}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data.msg&&w(e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{}),Object(r.jsx)("div",{className:"page",children:k.user?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Add Expense"}),F&&Object(r.jsx)(g,{message:F,clearError:function(){return w(void 0)}}),Object(r.jsxs)("form",{className:"form",onSubmit:R,children:[Object(r.jsx)("label",{htmlFor:"category",children:"Category"}),Object(r.jsxs)("select",{id:"category",onChange:function(e){return c(e.target.value)},children:[Object(r.jsx)("option",{value:"Broadband",children:"Broadband"}),Object(r.jsx)("option",{value:"Shopping",children:"Shopping"}),Object(r.jsx)("option",{value:"Groceries",children:"Groceries"}),Object(r.jsx)("option",{value:"Gas Bill",children:"Gas Bill"}),Object(r.jsx)("option",{value:"Electricity Bill",children:"Electricity"})]}),Object(r.jsx)("label",{htmlFor:"expense",children:"Expense"}),Object(r.jsx)("input",{id:"cost",type:"text",onChange:function(e){return p(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"month",children:"Month"}),Object(r.jsx)("input",{id:"month",type:"text",onChange:function(e){return y(e.target.value)}}),Object(r.jsx)("input",{type:"submit",value:"Add"})]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"User not logged in"}),Object(r.jsx)(u.b,{to:"/login",children:"Login"})]})})]})}function P(){var e=Object(n.useContext)(d),t=e.userData,a=e.setUserData,c=Object(b.f)();return Object(r.jsx)("nav",{className:"auth-options",children:t.user?Object(r.jsx)("button",{onClick:function(){a({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),c.push("/login")},children:"Logout"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:function(){return c.push("/register")},children:"Register"}),Object(r.jsx)("button",{onClick:function(){return c.push("/login")},children:"Login"})]})})}function G(){return Object(r.jsxs)("header",{id:"header",children:[Object(r.jsxs)("h1",{children:[" ",Object(r.jsx)(u.b,{className:"title",to:"/",children:"Personal Budget"})]}),Object(r.jsx)(P,{})]})}a(63);var H=a(13).SERVER_URL;function W(){var e=Object(n.useState)({token:void 0,user:void 0}),t=Object(j.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,x.a.post(H+"/users/tokenIsValid",null,{headers:{"x-auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,x.a.get(H+"/users/",{headers:{"x-auth-token":t}});case 8:a=e.sent,c({token:t,user:a.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.a,{children:Object(r.jsxs)(d.Provider,{value:{userData:a,setUserData:c},children:[Object(r.jsx)(G,{}),Object(r.jsx)("div",{className:"container",children:Object(r.jsx)(b.c,{children:void 0===a.user?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b.a,{path:"/login",component:v}),Object(r.jsx)(b.a,{path:"/register",component:y})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b.a,{exact:!0,path:"/",component:O}),Object(r.jsx)(b.a,{path:"/login",component:v}),Object(r.jsx)(b.a,{path:"/register",component:y}),Object(r.jsx)(b.a,{path:"/user_dashboard",component:J}),Object(r.jsx)(b.a,{path:"/user_budget",component:L}),Object(r.jsx)(b.a,{path:"/user_expense",component:V})]})})})]})})})}s.a.render(Object(r.jsx)(W,{}),document.querySelector("#root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.f13badd8.chunk.js.map